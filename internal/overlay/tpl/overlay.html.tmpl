{{ define "overlay.html" }}
<html>
    <head>
        <title>Stream overlay for {{.ChannelName}}</title>
        <link rel="stylesheet" href="/bot/overlay/assets/output.css" />
    </head>
    <body class="overflow-hidden">
        <div class="w-screen h-screen overflow-hidden">
            {{range .Boxes}}
                <div class="absolute rounded border-transparent js-pb-box"
                     data-left="{{.Left}}"
                     data-top="{{.Top}}"
                     data-right="{{.Right}}"
                     data-bottom="{{.Bottom}}"
                     data-bgcolor="{{.BgColor}}">

                    <div class="-translate-x-full absolute hidden js-edit-box">
                        <div class="w-72 p-2 mx-4 ring-zinc-400 rounded ring-offset-2 ring-2">
                            <form class="editform">
                                <div>
                                    <label for="left" class="w-full inline-block">Left:</label>
                                    <input class="w-full js-edit-input" id="left" name="Left" value="{{.Left}}" type="number" />
                                </div>
                                <div>
                                    <label for="top" class="w-full inline-block">Top:</label>
                                    <input class="w-full js-edit-input" id="top" name="Top" value="{{.Top}}" type="number" />
                                </div>
                                <div>
                                    <label for="right" class="w-full inline-block">Right:</label>
                                    <input class="w-full js-edit-input" id="right" name="Right" value="{{.Right}}" type="number" />
                                </div>
                                <div>
                                    <label for="bottom" class="w-full inline-block">Bottom:</label>
                                    <input class="w-full js-edit-input" id="bottom" name="Bottom" value="{{.Bottom}}" type="number" />
                                </div>
                                <div>
                                    <label for="bgcolor" class="w-full inline-block">Background color:</label>
                                    <input class="w-full js-edit-input" id="bgcolor" name="BgColor" value="{{.BgColor}}" type="text" />
                                </div>
                            </form>
                        </div>
                    </div>
                    {{if .Leaderboard}}
                        {{template "leaderboard" .Leaderboard}}
                    {{end}}
                    {{if .TopPoints}}
                        {{template "top_points" .TopPoints}}
                    {{end}}
                    {{if .CurrentTrack}}
                        {{template "track" .CurrentTrack}}
                    {{end}}
                    {{if .IFrame}}
                        {{template "iframe" .IFrame}}
                    {{end}}
                </div>
            {{end}}

            <div class="js-new-box absolute rounded border-transparent inset-1/3 hidden">
                <form>
                    <div>
                        <label for="boxtype" class="w-full inline-block">New box type:</label>
                        <select class="w-full" id="boxtype" name="BoxType">
                            <option value="leaderboard">Leaderboard</option>
                            <option value="epidemictrack">Current track</option>
                            <option value="toppoints">Top Point</option>
                            <option value="iframe">iFrame box</option>
                        </select>
                    </div>
                    <div class="pt-2">
                        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Create</button>
                    </div>
                </form>
            </div>
        </div>
        <script src="/bot/overlay/assets/view.js"></script>
        {{if .EditMode}}
            <script src="/bot/overlay/assets/edit.js"></script>
        {{end}}
    </body>
</html>
{{ end }}